FROM rust:latest

RUN cargo install cargo-watch
RUN update-ca-certificates

WORKDIR /app

COPY ./ .

ENV SQLX_OFFLINE true

VOLUME ["./api/src:/app/src:ro"]
CMD ["cargo", "watch", "-x", "run"]
